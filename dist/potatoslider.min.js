if(Object.keys||(Object.keys=function(t){var e,i=[];for(e in t)t.hasOwnProperty(e)&&i.push(e);return i}),Object.assign||(Object.assign=function(t){var e,i,s,o,r,n,h,l=Object(t);for(s=1,o=arguments.length;s<o;s++)if(e=arguments[s])for(r=0,n=(i=Object.keys(e)).length;r<n;r++)l[h=i[r]]=e[h];return l}),!Element.prototype.matches){var elPrototype=Element.prototype;elPrototype.matches=elPrototype.matches||elPrototype.matchesSelector||elPrototype.webkitMatchesSelector||elPrototype.mozMatchesSelector||elPrototype.oMatchesSelector||elPrototype.msMatchesSelector||function(t){var e,i=document.querySelectorAll(t),s=i.length;for(e=0;e<s;e++)if(i[e]===this)return!0;return!1}}var PotatoSlider=function(t,e){this.preInit(t,e)};PotatoSlider.prototype=Object.assign(PotatoSlider.prototype,{preInit:function(t,e){t.PotatoSlider=this,this._rootEl=t,this._itemsArr=this._getItemsArr(t),this._cfg=Object.assign({nameSpace:"potatoSlider",autoInit:!0,loop:!0,items:1,perItem:1,autoWidth:!1,largeSize:2,largeSelector:"[data-ps-large]"},e),this._cfg.autoWidth&&(this._cfg=Object.assign(this._cfg,{items:1,perItem:1})),this._cfg.autoInit&&this.init()},_getItemsArr:function(t){for(var e=t.children,i=0,s=e.length,o=[];i<s;i++)o.push(e[i]);return o},init:function(){this._prepareHtml(),this._bindEvents()},_prepareHtml:function(){var t,e,i,s,o,r=this._cfg,n=this._rootEl,h=this._itemsArr,l=0,a=h.length,p=0,c=0;for(this._psItemsArr=[],this._setStyle(n,{overflow:"hidden",height:0}),o=n.getBoundingClientRect().width,this._psRoot=this._createEl("div","",{position:"relative"}),this._psWrap=this._createEl("div","__wrap",{position:"relative",overflow:"hidden"},this._psRoot),this._psItems=this._createEl("div","__items",{position:"relative"},this._psWrap),l=0;l<a;l++)t=h[l],r.autoWidth?(s=t.getBoundingClientRect().width,i="100%"):(s=Math.floor(100*o/r.items)/100,i=""),c%r.perItem==0&&(e=this._createEl("div","__item",{position:"relative",display:"inline-block",verticalAlign:"middle",top:0,left:0,width:s+"px"},this._psItems),this._psItemsArr.push(e),p+=s),this._setStyle(t,{position:"relative",top:0,left:0,width:i,float:"none"}),e.appendChild(t),this._isLarge(t)?c+=2:c++;this._setStyle(this._psItems,{width:p+"px"}),this._setStyle(n,{overflow:"",height:""}),this._rootEl.appendChild(this._psRoot)},_isLarge:function(t){return t.matches(this._cfg.largeSelector)},_bindEvents:function(){var t=this;this._addEvent(window,"resize",function(){clearTimeout(t._resizeTimeout),t._resizeTimeout=setTimeout(function(){t.refresh()},200)})},_unbindEvents:function(){this._removeEvent(window,"resize")},refresh:function(){this.destroy(),this.init()},_addEvent:function(t,e,i){t._psEvents=t._psEvents||{},t._psEvents[e]&&this._removeEvent(t,e),t._psEvents[e]=i,t.addEventListener(e,t._psEvents[e])},_removeEvent:function(t,e){t._psEvents&&!t._psEvents[e]&&t.removeEventListener(e,t._psEvents[e])},next:function(){},prev:function(){},_createEl:function(t,e,i,s){var o=document.createElement(t);return o.setAttribute("class",this._cfg.nameSpace+e),this._setStyle(o,i),s&&s.appendChild(o),o},_setStyle:function(t,e){for(var i,s=t.style,o=Object.keys(e),r=0,n=o.length;r<n;r++)s[i=o[r]]=e[i]},_restoreHtml:function(){for(var t,e=this._itemsArr,i=0,s=e.length;i<s;i++)t=e[i],this._setStyle(t,{position:"",top:"",left:"",width:"",float:""}),this._rootEl.appendChild(t);this._rootEl.removeChild(this._psRoot)},destroy:function(){this._unbindEvents(),this._restoreHtml()}});