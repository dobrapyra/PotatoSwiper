!function(){if(Object.keys||(Object.keys=function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n}),Object.assign||(Object.assign=function(e){var t,n,o,i,r,s,a,c=Object(e);for(o=1,i=arguments.length;o<i;o++)if(t=arguments[o])for(r=0,s=(n=Object.keys(t)).length;r<s;r++)c[a=n[r]]=t[a];return c}),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this,n=Array.prototype.slice.call(arguments,1);return function(){t.apply(e,n)}}),!Element.prototype.matches){var e=Element.prototype;e.matches=e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.msMatchesSelector||function(e){var t,n=document.querySelectorAll(e),o=n.length;for(t=0;t<o;t++)if(n[t]===this)return!0;return!1}}var t=window;window.requestAnimationFrame||(t.requestAnimationFrame=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)}),window.cancelAnimationFrame||(t.cancelAnimationFrame=t.cancelAnimationFrame||t.webkitCancelRequestAnimationFrame||t.mozCancelRequestAnimationFrame||t.oCancelRequestAnimationFrame||t.msCancelRequestAnimationFrame||clearTimeout)}();var PotatoSlider=function(e,t){this.preInit(e,t)};Object.assign(PotatoSlider.prototype,{_easing:{easeOutCubic:function(e){return 1-(e=1-e)*e*e}},preInit:function(e,t){var n=this;e.PotatoSlider=n,n._rootEl=e,n._itemsArr=n._getItemsArr(e),n._mainCfg=Object.assign({nameSpace:"potatoSlider",autoInit:!0,loop:!0,items:1,perItem:1,autoWidth:!1,prevSelector:"[data-ps-prev]",nextSelector:"[data-ps-next]",gap:0,largeSize:2,largeSelector:"[data-ps-large]",duration:600,easing:"easeOutCubic",rwd:{}},t),n._currIdx=0,n._maxIdx=0,n._move={d:0,b:null},n._inLoop=!1,n._raf=null,n._fReady=!0,n._time={d:0,b:0,e:0},n._mainCfg.autoInit&&n.init()},_getItemsArr:function(e){for(var t=e.children,n=0,o=t.length,i=[];n<o;n++)i.push(t[n]);return i},_setRWDCfg:function(){var e=this;e._cfg=Object.assign({},e._mainCfg,{rwd:{}}),e._cfg.autoWidth&&Object.assign(e._cfg,{items:1,perItem:1,largeSize:1})},init:function(){this._setRWDCfg(),this._prepareHtml(),this._getNav(),this._bindEvents()},_prepareHtml:function(){var e,t,n,o,i,r,s,a,c,u,_=this,l=_._cfg,m=_._rootEl,v=_._itemsArr,d=0,p=v.length,f=0,h=0;for(u=[],_._setStyle(m,{overflow:"hidden",height:0}),i=m.getBoundingClientRect().width,s=_._createEl("div","",{position:"relative"}),a=_._createEl("div","__wrap",{position:"relative",overflow:"hidden"},s),c=_._createEl("div","__items",{position:"relative"},a),d=0;d<p;d++)e=v[d],l.autoWidth?(o=e.getBoundingClientRect().width,n="100%"):(o=Math.floor(100*i/l.items)/100,n=""),h%l.perItem==0&&(t=_._createEl("div","__item",{position:"relative",display:"inline-block",verticalAlign:"middle",top:0,left:0,width:o+"px"},c),u.push(t),t._PotatoSlider={items:0},f+=o),_._setStyle(e,{position:"relative",top:0,left:0,width:n,float:"none"}),t.appendChild(e),h+=r=_._isLarge(e)?l.largeSize:1,t._PotatoSlider.items+=r;_._setStyle(c,{width:f+"px"}),_._setStyle(m,{overflow:"",height:""}),m.appendChild(s),_._maxIdx=u.length-1,_._psItemsArr=u,_._psItems=c,_._psWrap=a,_._psRoot=s},_getNav:function(){var e=this,t=e._getEl,n=e._cfg;e._navPrev=t(n.prevSelector),e._navNext=t(n.nextSelector)},_isLarge:function(e){return e.matches(this._cfg.largeSelector)},_bindEvents:function(){var e=this,t=e._addEvent.bind(e),n=e._navPrev,o=e._navNext,i=e._resizeTimeout;n&&t(n,"click",function(t){t.preventDefault(),e.prev()}),o&&t(o,"click",function(t){t.preventDefault(),e.next()}),t(e._psItems,"mousedown",function(t){t.preventDefault(),e._bindDocMouseEvents(),e._moveBegin(t)}),t(e._psItems,"touchstart",function(t){e._bindDocTouchEvents(),e._moveBegin(t)}),t(window,"resize",function(){clearTimeout(i),i=setTimeout(function(){e.refresh()},200)})},_unbindEvents:function(){var e=this,t=e._remEvent;t(e._navPrev,"click"),t(e._navNext,"click"),t(e._psItems,"mousedown"),t(e._psItems,"touchstart"),t(window,"resize")},_bindDocMouseEvents:function(){var e=this,t=e._addEvent.bind(e),n=document;t(n,"mousemove",function(t){e._moveUpdate(t)}),t(n,"mouseup",function(t){e._unbindDocMouseEvents(),e._moveEnd(t)}),t(n,"mouseleave",function(t){e._unbindDocMouseEvents(),e._moveEnd(t)})},_unbindDocMouseEvents:function(){var e=this,t=e._remEvent.bind(e),n=document;t(n,"mousemove"),t(n,"mouseup"),t(n,"mouseleave")},_bindDocTouchEvents:function(){var e=this,t=e._addEvent.bind(e),n=document;t(n,"touchmove",function(t){e._moveUpdate(t)}),t(n,"touchend",function(t){e._unbindDocTouchEvents(),e._moveEnd(t)})},_unbindDocTouchEvents:function(){var e=this,t=e._remEvent.bind(e),n=document;t(n,"touchmove"),t(n,"touchend")},refresh:function(){this.destroy(),this.init()},_addEvent:function(e,t,n){e._psEvents=e._psEvents||{},e._psEvents[t]&&this._remEvent(e,t),e._psEvents[t]=n,e.addEventListener(t,e._psEvents[t])},_remEvent:function(e,t){e._psEvents&&e._psEvents[t]&&e.removeEventListener(t,e._psEvents[t])},_getEl:function(e,t){return(t||document).querySelector(e)},_createEl:function(e,t,n,o){var i=this,r=document.createElement(e);return r.setAttribute("class",i._cfg.nameSpace+t),i._setStyle(r,n),o&&o.appendChild(r),r},_setStyle:function(e,t){for(var n,o=e.style,i=Object.keys(t),r=0,s=i.length;r<s;r++)o[n=i[r]]=t[n]},_moveBegin:function(e){var t=this,n=t._rootEl.style,o=e.touch||!!e.touches&&e.touches[0];t._stopLoop(),t._move.b=o?o.clientX:e.clientX,n.userSelect="none",n.pointerEvents="none"},_moveUpdate:function(e){var t=this,n=e.touch||!!e.touches&&e.touches[0];null!==t._move.b&&(t._move.d=n?n.clientX-t._move.b:e.clientX-t._move.b,t._updatePos(t._move.d))},_moveEnd:function(){var e=this,t=e._rootEl.style,n=e._move.d>e._treashold?1:e._move.d<-e._treashold?-1:0;e._move.b=null,t.userSelect="",t.pointerEvents="",0!==n?n<0?e.next():e.prev():e._alignPos()},_updatePos:function(e){this._psItems.style.transform="matrix(1,0,0,1,"+e+",0)"},_alignPos:function(){var e=this;e._animPos(e._cfg.duration)},_animPos:function(e){var t=this,n=t._time;n.b=window.performance.now(),n.e=n.b+e,n.d=e,t._startLoop()},_loop:function(){var e=this,t=e._fReady;e._setRaf(function(){e._loop()}),t&&(t=!1,e._update(window.performance.now()),t=!0)},_startLoop:function(){var e=this;e._inLoop||(e._inLoop=!0,e._setRaf(function(){e._loop()}))},_stopLoop:function(){var e=this;e._setRaf(null),e._inLoop=!1},_update:function(e){var t,n=this,o=n._time;e>o.e&&n._stopLoop(),(t=(e-o.b)/o.d)<0?t=0:t>1&&(t=1),t=n._easing[n._cfg.easing](t),n._updatePos((1-t)*n._move.d)},_setRaf:function(e){var t=this;e?t._raf=requestAnimationFrame(e):(cancelAnimationFrame(t._raf),t._raf=null)},next:function(){var e=this;e.goTo(e._currIdx+1)},prev:function(){var e=this;e.goTo(e._currIdx-1)},goTo:function(e){var t=this,n=t._maxIdx,o=t._cfg.loop;e!==t._currIdx&&(e>n&&(e=o?0:n),e<0&&(e=o?n:0),t._currIdx=e)},_restoreHtml:function(){for(var e,t=this,n=t._itemsArr,o=0,i=n.length,r=t._rootEl;o<i;o++)e=n[o],t._setStyle(e,{position:"",top:"",left:"",width:"",float:""}),r.appendChild(e);r.removeChild(t._psRoot)},destroy:function(){this._unbindEvents(),this._restoreHtml()}});